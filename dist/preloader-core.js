!function(){"use strict";class e{constructor(e){this.templateID=e.templateID,this.prefixStorage="vmv_PredL",this.options=e.props,this.frequency=e.frequency||"once",this.showAlways=!1,this.needCookies=!1,this.init()}init(){switch(this.keyStorage=this.prefixStorage+this.options.buildVersion,this.options.frequency){case"once":this.storage=window.localStorage,this.needCookies=!0;break;case"visit":default:this.storage=window.sessionStorage;break;case"always":this.showAlways=!0,this.clear()}}checkAllow(){return this.showAlways||!this.storage?.getItem(this.keyStorage)}clear(){[window.localStorage,window.sessionStorage].forEach((e=>{const t=Object.assign({},e);for(let i in t)i.includes(this.prefixStorage)&&e.removeItem(i)}));document.cookie.split(";").forEach((e=>{e.includes(this.prefixStorage)&&(document.cookie=`${e}; max-age=-1;`)}))}setLoaded(){if(this.showAlways)return!1;this.clear(),this.storage.setItem(this.keyStorage,"1"),this.needCookies&&(document.cookie=`${this.keyStorage}=1; max-age=31104000; path=/`)}}class t{constructor(e){this.el=e.el,this.fallbackTime=e.fallbackTime,this.props=e.props,this.removeTemplate=e.removeTemplate,this.storageEvents=e.storageEvents,this.durationHide=e.props.durationHide||300,this.init(),this.minShowTimeDone=!1,this.hasEventToClose=!1}init(){document.querySelector(":root").insertAdjacentHTML("afterbegin",`<${this.el}></${this.el}>`),this.domEl=document.querySelector(this.el),this.domEl.style.cssText="position: fixed; top: 0; left: 0; height: 100vh;  width: 100vw; z-index: 2147483647; overflow: hidden;",customElements.define(this.el,class extends HTMLElement{constructor(){super();let e=window.templatePreloader.content;this.attachShadow({mode:"open"}).appendChild(e.cloneNode(!0))}}),this.removeTemplate(),this.minMinDuration()}minMinDuration(){setTimeout((()=>{this.minShowTimeDone=!0,this.hasEventToClose&&this.remove()}),this.props.minShowTime||1e3)}remove(){if(!this.minShowTimeDone)return this.hasEventToClose=!0,!1;this.storageEvents.setLoaded(),this.domEl.style.transition=`all ${this.durationHide}ms`,this.domEl.style.opacity="0",this.fallBackTimer&&clearTimeout(this.fallBackTimer),setTimeout((()=>{this.domEl.remove()}),this.durationHide)}}new class{constructor(){this.el="preloader-box",this.templateID="preloader-template",this.props=document.querySelector("script[data-preloader]").dataset,this.storageEvents=new e({templateID:this.templateID,props:this.props}),this.init(),this.fallBackTimer=null}removeTemplate(){window.templatePreloader=null}boundListener=this.listenerFunc.bind(this);listenerFunc(){this.domElement.remove(),this.fallBackTimer&&clearTimeout(this.fallBackTimer)}addListenerHide(){window.addEventListener("preloaderHide",this.boundListener,{once:!0})}init(){if("undefined"==typeof window)return!1;this.storageEvents.checkAllow()?(this.domElement=new t(this),this.addListenerHide(),this.fallbackTimeToHideInit()):this.removeTemplate()}fallbackTimeToHideInit(){const e=this.props.timeFallback||6;this.fallBackTimer=setTimeout((()=>{this.domElement.remove(),window.removeEventListener("preloaderHide",this.boundListener)}),e)}}}();
